<!-- <!DOCTYPE html> -->
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Nüíñ</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent}
html,body{height:100%;font-family:'Inter',sans-serif;background:radial-gradient(circle at 20% 20%,#ffd9ea,transparent),radial-gradient(circle at 80% 80%,#ffeaf5,transparent),#fff7fb;overflow-y:scroll;overflow-x:hidden;position:fixed;width:100%}
.desktop-message{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:linear-gradient(135deg,#ffd1e6,#ffe6f3);z-index:1000;align-items:center;justify-content:center;text-align:center;padding:20px}
.desktop-content{max-width:500px;background:white;padding:40px;border-radius:24px;box-shadow:0 20px 60px rgba(255,42,120,0.2)}
.desktop-content h2{color:#ff2a78;font-size:28px;margin-bottom:20px}
.desktop-content p{color:#666;font-size:18px;line-height:1.5}
.iphone-container{width:100%;height:100%;max-width:390px;max-height:844px;margin:0 auto;position:relative;background:transparent}
.app{height:100vh;display:flex;align-items:center;justify-content:center;padding:20px;position:relative}
.card{position:relative;width:100%;height:auto;min-height:700px;padding:40px 28px 50px;border-radius:32px;background:rgba(255,255,255,0.85);backdrop-filter:blur(30px);-webkit-backdrop-filter:blur(30px);box-shadow:0 40px 80px rgba(255,80,140,0.15),inset 0 0 0 1px rgba(255,255,255,0.8);animation:float 6s ease-in-out infinite;display:flex;flex-direction:column;justify-content:space-between}
@keyframes float{0%{transform:translateY(0)}50%{transform:translateY(-15px)}100%{transform:translateY(0)}}
.content{flex:1;display:flex;flex-direction:column;justify-content:center;position:relative;height:100%}
.title{font-weight:800;font-size:30px;line-height:1.3;color:#ff2a78;margin-bottom:15px;text-align:center;padding:0 10px}
.subtitle{color:#666;font-size:16px;margin-bottom:40px;text-align:center;padding:0 10px}
.questions-container{position:relative;border-radius:24px;background:rgba(255,120,170,0.08);margin:30px 0;padding:30px 20px;display:flex;flex-direction:column;gap:30px}
.question-box{background:white;padding:20px;border-radius:20px;box-shadow:0 5px 20px rgba(255,80,140,0.1);border:1px solid rgba(255,120,170,0.2)}
.question-title{font-weight:600;font-size:18px;color:#ff2a78;margin-bottom:15px;display:flex;align-items:center;gap:10px}
.question-title i{font-size:20px} 
.input-wrapper{margin-bottom:10px}
.text-input{width:100%;padding:16px;background:#fff;border:2px solid rgba(255,120,170,0.3);border-radius:16px;font-size:16px;color:#333;transition:all 0.3s ease;outline:none}
.text-input:focus{border-color:#ff2a78;box-shadow:0 0 0 3px rgba(255,42,120,0.1)}
.text-input::placeholder{color:#aaa;font-style:italic}
.hint{font-size:14px;color:#999;margin-top:8px;padding-left:4px}
.error-message{color:#ff2a78;font-size:14px;margin-top:8px;display:none;font-weight:500;animation:shake 0.4s ease}
.success-message{color:#32d74b;font-size:14px;margin-top:8px;display:none;font-weight:500}
@keyframes shake{0%,100%{transform:translateX(0)}25%{transform:translateX(-8px)}75%{transform:translateX(8px)}}
.skip-btn{display:flex;align-items:center;justify-content:center;gap:8px;background:linear-gradient(135deg,#ffd9ea,#ffeaf5);border:2px solid rgba(255,42,120,0.3);color:#ff2a78;padding:12px 24px;border-radius:25px;font-size:16px;font-weight:500;cursor:pointer;transition:all 0.3s ease;margin:10px auto 0;width:fit-content;box-shadow:0 5px 15px rgba(255,42,120,0.1)}
.skip-btn:hover{background:linear-gradient(135deg,#ffcce0,#ffd9ea);border-color:#ff2a78;box-shadow:0 8px 20px rgba(255,42,120,0.15);transform:translateY(-2px)}
.skip-btn:active{transform:translateY(0);box-shadow:0 3px 10px rgba(255,42,120,0.1)}
.submit-btn{width:100%;padding:18px;background:linear-gradient(135deg,#ff8dbb,#ff2a78);color:white;border:none;border-radius:28px;font-weight:600;font-size:18px;cursor:pointer;transition:all 0.3s ease;margin-top:20px;box-shadow:0 10px 25px rgba(255,42,120,0.3);position:relative;overflow:hidden}
.submit-btn:active{transform:translateY(2px)}
.submit-btn:disabled{background:linear-gradient(135deg,#ffcce0,#ffa0c8);cursor:not-allowed;opacity:0.6}
.submit-btn:disabled:active{transform:none}
.success-overlay{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;flex-direction:column;background:linear-gradient(135deg,#ffd1e6,#ffe6f3);opacity:0;pointer-events:none;transition:opacity 0.5s ease;z-index:2000;border-radius:32px;padding:40px 30px}
.success-overlay.show{opacity:1;pointer-events:auto}
.success-content{display:flex;flex-direction:column;align-items:center;gap:25px;width:100%;max-width:320px}
.success-text{font-size:32px;color:#ff2a78;font-weight:800;text-align:center;line-height:1.3}
.loading{font-size:18px;color:#ff5c9d;text-align:center}
@media (max-height:700px){.card{min-height:600px;padding:30px 20px 40px}.title{font-size:26px;margin-bottom:10px}.subtitle{font-size:14px;margin-bottom:30px}.questions-container{padding:20px 15px;gap:20px}}
@media (min-width:768px){.desktop-message{display:flex}.iphone-container{display:none}}
@supports (padding:max(0px)){.app{padding:max(20px,env(safe-area-inset-top)) max(20px,env(safe-area-inset-right)) max(20px,env(safe-area-inset-bottom)) max(20px,env(safe-area-inset-left))}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
<div class="desktop-message">
<div class="desktop-content">
<h2>üíñ –û—Ç–∫—Ä–æ–π –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ!</h2>
<p>–≠—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ–∑–¥–∞–Ω–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤. –û—Ç–∫—Ä–æ–π–µ –µ—ë –Ω–∞ —Å–≤–æ–µ–º –∞–π—Ñ–æ–Ω–µ, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø üí´</p>
<p style="margin-top:20px;font-size:16px;color:#dedede">–õ–∏–±–æ –ø—Ä–æ—Å—Ç–æ —Å–¥–µ–ª–∞–π –æ–∫–Ω–æ –±—Ä–∞—É–∑–µ—Ä–∞ –º–µ–Ω—å—à–µ</p>
</div></div>
<div class="iphone-container">
<div class="app">
<div class="card">
<div class="content">
<div class="title">–í—Ö–æ–¥</div>
<div class="questions-container">
<div class="question-box">
<div class="question-title">
<i class="fas fa-heart"></i>
<span>–í–æ–ø—Ä–æ—Å –ø—Ä–æ —Ç–µ–±—è</span>
</div>
<div class="input-wrapper">
<input type="text" id="about-you" class="text-input" placeholder="–¢–≤–æ–π —Ü–≤–µ—Ç –≥–ª–∞–∑?" autocomplete="off" autocapitalize="none" spellcheck="false">
</div>
<div class="hint">–ü—Ä–æ—Å—Ç–æ –≤–≤–µ–¥–∏ —Å–≤–æ–π —Ü–≤–µ—Ç –≥–ª–∞–∑</div>
<div class="error-message" id="error1">–ù–µ-–∞</div>
<div class="success-message" id="success1">–ü—Ä–∞–≤–∏–ª—å–Ω–æ!</div>
</div>
<div class="question-box">
<div class="question-title">
<i class="fas fa-heart"></i>
<span>–í–æ–ø—Ä–æ—Å –ø—Ä–æ –º–µ–Ω—è</span>
</div>
<div class="input-wrapper">
<input type="text" id="about-me" class="text-input" placeholder="–ú–æ–π —Ü–≤–µ—Ç –≥–ª–∞–∑?" autocomplete="off" autocapitalize="none" spellcheck="false">
</div>
<div class="hint">–ï—Å–ª–∏ –Ω–µ –ø–æ–º–Ω–∏—à—å - –º–æ–∂–Ω–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å)</div>
<div class="error-message" id="error2">–ù–µ-–∞ </div>
<div class="success-message" id="success2">–ü—Ä–∞–≤–∏–ª—å–Ω–æ!</div>
<button type="button" class="skip-btn" id="skipBtn">
<i class="far fa-smile-wink"></i> –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å
</button>
</div>
</div>
<button type="submit" class="submit-btn" id="submitBtn" disabled>
–í–æ–π—Ç–∏
</button>
</div>
<div class="success-overlay" id="success">
<div class="success-content">
<div class="success-text">
<div class="loading" id="loading">–ü—Ä–æ–≤–µ—Ä—è–µ–º –æ—Ç–≤–µ—Ç—ã...</div>
</div>
</div>
</div>
</div>
</div>
</div>
<script>
    function logEvent(eventName, details = {}) {
    const timestamp = new Date().toISOString();
    const logEntry = {
        timestamp,
        –¥–µ–π—Å—Ç–≤–∏–µ: eventName,
        –¥–µ—Ç–∞–ª–∏: details,
        —Å—Ç—Ä–∞–Ω–∏—Ü–∞: window.location.pathname
    };
    
    // –û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
    try {
        fetch('/api/log', {
            method: 'POST',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify(logEntry)
        }).catch(() => {});
    } catch (e) {}
}

    // –õ–æ–≥–∏—Ä—É–µ–º –∑–∞–≥—Ä—É–∑–∫—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    logEvent('–°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—Ö–æ–¥–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞', {
        —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ: navigator.userAgent.includes('iPhone') ? 'iPhone' : navigator.userAgent.includes('Android') ? 'Android' : '–î—Ä—É–≥–æ–µ',
        —Ä–∞–∑–º–µ—Ä–≠–∫—Ä–∞–Ω–∞: `${window.innerWidth}x${window.innerHeight}`,
        –º–æ–±–∏–ª—å–Ω–æ–µ–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ: /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)
    });

    if(!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) && window.innerWidth > 768) {
        document.querySelector('.desktop-message').style.display = 'flex';
        document.querySelector('.iphone-container').style.display = 'none';
    }

    const correctAboutYou = ['–≥–æ–ª—É–±–æ–π', '–≥–æ–ª—É–±—ã–µ', '–≥–æ–ª—É–±–∞—è', '–≥–æ–ª—É–±–æ–≥–æ', '–Ω–µ–±–µ—Å–Ω—ã–π', '–Ω–µ–±–µ—Å–Ω—ã–µ', '–Ω–µ–±–µ—Å–Ω–∞—è', '–Ω–µ–±–µ—Å–Ω–æ–≥–æ', 'blue', '—Å–≤–µ—Ç–ª–æ —Å–∏–Ω–∏–π', '—Å–≤–µ—Ç–ª–æ-—Å–∏–Ω–∏–π', '—Å–≤–µ—Ç–ª–æ —Å–∏–Ω–∏–µ', '—Å–≤–µ—Ç–ª–æ-—Å–∏–Ω–∏–µ'];
    const correctAboutMe = ['–∑–µ–ª—ë–Ω—ã–π', '–∑–µ–ª–µ–Ω—ã–π', '–∑–µ–ª—ë–Ω—ã–µ', '–∑–µ–ª–µ–Ω—ã–µ', '–∑–µ–ª—ë–Ω–∞—è', '–∑–µ–ª–µ–Ω–∞—è', '–∑–µ–ª—ë–Ω–æ–≥–æ', '–∑–µ–ª–µ–Ω–æ–≥–æ', 'green', '–∏–∑—É–º—Ä—É–¥–Ω—ã–π', '–∏–∑—É–º—Ä—É–¥–Ω—ã–µ', '–∏–∑—É–º—Ä—É–¥–Ω–∞—è', '–∏–∑—É–º—Ä—É–¥–Ω–æ–≥–æ', '—Å–∞–ª–∞—Ç–æ–≤—ã–π', '—Å–∞–ª–∞—Ç–æ–≤—ã–µ', '—Å–∞–ª–∞—Ç–æ–≤–æ–≥–æ', '—Ç—Ä–∞–≤—è–Ω–æ–π', '—Ç—Ä–∞–≤—è–Ω—ã–µ', '—Ç—Ä–∞–≤—è–Ω–∞—è', '—Ç—Ä–∞–≤—è–Ω–æ–≥–æ', '—Å–µ—Ä–æ–∑–µ–ª–µ–Ω—ã–µ', '—Å–µ—Ä–æ–∑–µ–ª—ë–Ω—ã–µ', '—Å–µ—Ä–æ-–∑–µ–ª–µ–Ω—ã–µ', '—Å–µ—Ä–æ-–∑–µ–ª—ë–Ω—ã–µ', '—Å–µ—Ä–æ–∑–µ–ª–µ–Ω—ã–µ', '–∫—Ä–∞—Å–∏–≤—ã–π', '–∫—Ä–∞—Å–∏–≤—ã–µ', '–∫—Ä–∞—Å–∏–≤–æ–≥–æ'];
    
    let aboutYouCorrect = false;
    let aboutMeCorrect = false;
    let aboutMeSkipped = false;

    function normalizeText(t) {
        return t.trim().toLowerCase().replace(/\s+/g, ' ').replace(/—ë/g, '–µ');
    }

    function isCorrectAnswer(v, c) {
        const n = normalizeText(v);
        return c.some(t => n === normalizeText(t));
    }

    const aboutYouInput = document.getElementById('about-you');
    const aboutMeInput = document.getElementById('about-me');
    const error1 = document.getElementById('error1');
    const error2 = document.getElementById('error2');
    const success1 = document.getElementById('success1');
    const success2 = document.getElementById('success2');
    const successOverlay = document.getElementById('success');
    const loading = document.getElementById('loading');
    const submitBtn = document.getElementById('submitBtn');
    const skipBtn = document.getElementById('skipBtn');

    // –õ–æ–≥–∏—Ä—É–µ–º —Ñ–æ–∫—É—Å –Ω–∞ –ø–æ–ª—è—Ö
    aboutYouInput.addEventListener('focus', function() {
        logEvent('–ö–ª–∏–∫ –Ω–∞ –ø–æ–ª–µ "–¶–≤–µ—Ç —Ç–≤–æ–∏—Ö –≥–ª–∞–∑"');
    });

    aboutMeInput.addEventListener('focus', function() {
        logEvent('–ö–ª–∏–∫ –Ω–∞ –ø–æ–ª–µ "–¶–≤–µ—Ç –º–æ–∏—Ö –≥–ª–∞–∑"');
    });

    // –õ–æ–≥–∏—Ä—É–µ–º –∫–∞–∂–¥—ã–π –≤–≤–æ–¥ —Å–∏–º–≤–æ–ª–∞ –≤ –ø–µ—Ä–≤–æ–µ –ø–æ–ª–µ
    aboutYouInput.addEventListener('input', function() {
        const v = this.value;
        const charCount = v.length;
        
        logEvent('–í–≤–æ–¥ –≤ –ø–æ–ª–µ "–¶–≤–µ—Ç —Ç–≤–æ–∏—Ö –≥–ª–∞–∑"', {
            —Ç–µ–∫—É—â–∏–π–¢–µ–∫—Å—Ç: v,
            –¥–ª–∏–Ω–∞–¢–µ–∫—Å—Ç–∞: charCount,
            –ø–æ—Å–ª–µ–¥–Ω–∏–π–°–∏–º–≤–æ–ª: charCount > 0 ? v[charCount - 1] : ''
        });
        
        if(isCorrectAnswer(v, correctAboutYou)) {
            aboutYouCorrect = true;
            error1.style.display = 'none';
            success1.style.display = 'block';
            this.style.borderColor = '#32d74b';
            this.style.boxShadow = '0 0 0 3px rgba(50, 215, 75, 0.1)';
            
            logEvent('–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –≤ –ø–æ–ª–µ "–¶–≤–µ—Ç —Ç–≤–æ–∏—Ö –≥–ª–∞–∑"', { 
                –æ—Ç–≤–µ—Ç: v
            });
        } else if(v) {
            aboutYouCorrect = false;
            success1.style.display = 'none';
            error1.style.display = 'block';
            this.style.borderColor = '#ff2a78';
            this.style.boxShadow = '0 0 0 3px rgba(255, 42, 120, 0.1)';
            
            logEvent('–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –≤ –ø–æ–ª–µ "–¶–≤–µ—Ç —Ç–≤–æ–∏—Ö –≥–ª–∞–∑"', { 
                –æ—Ç–≤–µ—Ç: v
            });
        } else {
            aboutYouCorrect = false;
            error1.style.display = 'none';
            success1.style.display = 'none';
            this.style.borderColor = 'rgba(255, 120, 170, 0.3)';
            this.style.boxShadow = 'none';
            
            logEvent('–û—á–∏—Å—Ç–∫–∞ –ø–æ–ª—è "–¶–≤–µ—Ç —Ç–≤–æ–∏—Ö –≥–ª–∞–∑"');
        }
        checkSubmitButton();
    });

    // –õ–æ–≥–∏—Ä—É–µ–º –∫–∞–∂–¥—ã–π –≤–≤–æ–¥ —Å–∏–º–≤–æ–ª–∞ –≤–æ –≤—Ç–æ—Ä–æ–µ –ø–æ–ª–µ
    aboutMeInput.addEventListener('input', function() {
        const v = this.value;
        const charCount = v.length;
        
        logEvent('–í–≤–æ–¥ –≤ –ø–æ–ª–µ "–¶–≤–µ—Ç –º–æ–∏—Ö –≥–ª–∞–∑"', {
            —Ç–µ–∫—É—â–∏–π–¢–µ–∫—Å—Ç: v,
            –¥–ª–∏–Ω–∞–¢–µ–∫—Å—Ç–∞: charCount,
            –ø–æ—Å–ª–µ–¥–Ω–∏–π–°–∏–º–≤–æ–ª: charCount > 0 ? v[charCount - 1] : ''
        });
        
        aboutMeSkipped = false;
        
        if(isCorrectAnswer(v, correctAboutMe)) {
            aboutMeCorrect = true;
            error2.style.display = 'none';
            success2.style.display = 'block';
            this.style.borderColor = '#32d74b';
            this.style.boxShadow = '0 0 0 3px rgba(50, 215, 75, 0.1)';
            skipBtn.style.display = 'none';
            
            logEvent('–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –≤ –ø–æ–ª–µ "–¶–≤–µ—Ç –º–æ–∏—Ö –≥–ª–∞–∑"', { 
                –æ—Ç–≤–µ—Ç: v
            });
        } else if(v) {
            aboutMeCorrect = false;
            success2.style.display = 'none';
            error2.style.display = 'block';
            this.style.borderColor = '#ff2a78';
            this.style.boxShadow = '0 0 0 3px rgba(255, 42, 120, 0.1)';
            skipBtn.style.display = 'flex';
            
            logEvent('–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –≤ –ø–æ–ª–µ "–¶–≤–µ—Ç –º–æ–∏—Ö –≥–ª–∞–∑"', { 
                –æ—Ç–≤–µ—Ç: v
            });
        } else {
            aboutMeCorrect = false;
            error2.style.display = 'none';
            success2.style.display = 'none';
            this.style.borderColor = 'rgba(255, 120, 170, 0.3)';
            this.style.boxShadow = 'none';
            skipBtn.style.display = 'flex';
            
            logEvent('–û—á–∏—Å—Ç–∫–∞ –ø–æ–ª—è "–¶–≤–µ—Ç –º–æ–∏—Ö –≥–ª–∞–∑"');
        }
        checkSubmitButton();
    });

    // –õ–æ–≥–∏—Ä—É–µ–º –Ω–∞–∂–∞—Ç–∏–µ –∫–Ω–æ–ø–∫–∏ "–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å"
    skipBtn.addEventListener('click', function() {
        logEvent('–ù–∞–∂–∞–ª–∞ –∫–Ω–æ–ø–∫—É "–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å"', {
            –±—ã–ª–æ–í–≤–µ–¥–µ–Ω–æ–î–æ: aboutMeInput.value,
            –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π–ë—ã–ª: aboutMeCorrect
        });
        
        aboutMeInput.value = '';
        aboutMeCorrect = false;
        aboutMeSkipped = true;
        error2.style.display = 'none';
        success2.style.display = 'none';
        aboutMeInput.style.borderColor = 'rgba(255, 120, 170, 0.3)';
        aboutMeInput.style.boxShadow = 'none';
        skipBtn.style.display = 'none';
        
        this.innerHTML = '<i class="fas fa-check"></i> –ü—Ä–æ–ø—É—â–µ–Ω–æ';
        this.style.borderColor = '#ffd60a';
        this.style.color = '#ffd60a';
        
        logEvent('–í–æ–ø—Ä–æ—Å –ø—Ä–æ–ø—É—â–µ–Ω', { 
            –≤–æ–ø—Ä–æ—Å: '–¶–≤–µ—Ç –º–æ–∏—Ö –≥–ª–∞–∑'
        });
        
        setTimeout(() => {
            this.innerHTML = '<i class="far fa-smile-wink"></i> –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å';
            this.style.borderColor = 'rgba(255, 42, 120, 0.3)';
            this.style.color = '#ff2a78';
        }, 1500);
        
        checkSubmitButton();
    });

    function checkSubmitButton() {
        const canSubmit = aboutYouCorrect && (aboutMeCorrect || aboutMeSkipped);
        
        if(canSubmit) {
            submitBtn.disabled = false;
            logEvent('–ö–Ω–æ–ø–∫–∞ "–í–æ–π—Ç–∏" —Å—Ç–∞–ª–∞ –∞–∫—Ç–∏–≤–Ω–æ–π', {
                –ø–æ–ª–µ1–ü—Ä–∞–≤–∏–ª—å–Ω–æ: aboutYouCorrect,
                –ø–æ–ª–µ2–ü—Ä–∞–≤–∏–ª—å–Ω–æ: aboutMeCorrect,
                –ø–æ–ª–µ2–ü—Ä–æ–ø—É—â–µ–Ω–æ: aboutMeSkipped
            });
        } else {
            submitBtn.disabled = true;
        }
    }

    // –õ–æ–≥–∏—Ä—É–µ–º –Ω–∞–∂–∞—Ç–∏–µ –∫–Ω–æ–ø–∫–∏ "–í–æ–π—Ç–∏"
    submitBtn.addEventListener('click', function(e) {
        e.preventDefault();
        
        logEvent('–ù–∞–∂–∞–ª–∞ –∫–Ω–æ–ø–∫—É "–í–æ–π—Ç–∏"', {
            –æ—Ç–≤–µ—Ç–ù–∞–ü–æ–ª–µ1: aboutYouInput.value,
            –æ—Ç–≤–µ—Ç–ù–∞–ü–æ–ª–µ2: aboutMeInput.value,
            –ø–æ–ª–µ2–ü—Ä–æ–ø—É—â–µ–Ω–æ: aboutMeSkipped
        });
        
        if(!aboutYouCorrect) {
            logEvent('–û—à–∏–±–∫–∞: –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ –ø–µ—Ä–≤—ã–π –≤–æ–ø—Ä–æ—Å');
            
            error1.style.display = 'block';
            aboutYouInput.classList.add('shake');
            setTimeout(() => aboutYouInput.classList.remove('shake'), 400);
            aboutYouInput.focus();
            return;
        }
        
        if(!aboutMeSkipped && !aboutMeCorrect) {
            logEvent('–û—à–∏–±–∫–∞: –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ –≤—Ç–æ—Ä–æ–π –≤–æ–ø—Ä–æ—Å', {
                –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ: '–í–≤–µ–¥–∏ "–∑–µ–ª—ë–Ω—ã–π" –∏–ª–∏ –Ω–∞–∂–º–∏ "–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å"'
            });
            
            error2.style.display = 'block';
            error2.textContent = '–í–≤–µ–¥–∏ "–∑–µ–ª—ë–Ω—ã–π" –∏–ª–∏ –Ω–∞–∂–º–∏ "–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å"';
            aboutMeInput.classList.add('shake');
            setTimeout(() => aboutMeInput.classList.remove('shake'), 400);
            aboutMeInput.focus();
            return;
        }
        
        logEvent('–í—Å–µ –æ—Ç–≤–µ—Ç—ã –≤–µ—Ä–Ω—ã, –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è');
        
        submitBtn.disabled = true;
        submitBtn.innerHTML = '–ü—Ä–æ–≤–µ—Ä—è–µ–º...';
        successOverlay.classList.add('show');
        
        localStorage.setItem('valentine_authorized', 'true');
        
        setTimeout(() => {
            loading.textContent = '–í—Å—ë –≤–µ—Ä–Ω–æ!';
            logEvent('–û—Ç–≤–µ—Ç—ã –ø—Ä–∏–Ω—è—Ç—ã, –ø–µ—Ä–µ—Ö–æ–¥ –∫ –∏–≥—Ä–µ');
            
            setTimeout(() => {
                logEvent('–ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏–≥—Ä—ã');
                window.location.href = 'index.html';
            }, 1000);
        }, 1500);
    });

    // –õ–æ–≥–∏—Ä—É–µ–º –Ω–∞–∂–∞—Ç–∏–µ Enter
    aboutYouInput.addEventListener('keypress', function(e) {
        if(e.key === 'Enter') {
            logEvent('–ù–∞–∂–∞–ª–∞ Enter –≤ –ø–µ—Ä–≤–æ–º –ø–æ–ª–µ, –ø–µ—Ä–µ—Ö–æ–¥ –∫–æ –≤—Ç–æ—Ä–æ–º—É –ø–æ–ª—é');
            aboutMeInput.focus();
        }
    });

    aboutMeInput.addEventListener('keypress', function(e) {
        if(e.key === 'Enter' && submitBtn.disabled === false) {
            logEvent('–ù–∞–∂–∞–ª–∞ Enter –≤–æ –≤—Ç–æ—Ä–æ–º –ø–æ–ª–µ, –æ—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ä–º—ã');
            submitBtn.click();
        }
    });

    window.addEventListener('resize', function() {
        logEvent('–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –æ–∫–Ω–∞', {
            –Ω–æ–≤—ã–π–†–∞–∑–º–µ—Ä: `${window.innerWidth}x${window.innerHeight}`
        });
        
        if(!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) && window.innerWidth > 768) {
            document.querySelector('.desktop-message').style.display = 'flex';
            document.querySelector('.iphone-container').style.display = 'none';
            logEvent('–ü–æ–∫–∞–∑–∞–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –ü–ö');
        } else {
            document.querySelector('.desktop-message').style.display = 'none';
            document.querySelector('.iphone-container').style.display = 'block';
            logEvent('–ü–æ–∫–∞–∑–∞–Ω–∞ –º–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è');
        }
    });

    setTimeout(() => {
        aboutYouInput.focus();
        logEvent('–ê–≤—Ç–æ—Ñ–æ–∫—É—Å –Ω–∞ –ø–µ—Ä–≤–æ–µ –ø–æ–ª–µ');
    }, 500);
</script>
</body>
</html>
